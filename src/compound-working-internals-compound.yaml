categories: []
content: Explains how compound works, how interest rates are calculated
created: '2023-03-08T16:24:00.847Z'
guideIntegrations:
  discordRoleIds: []
guideType: onboarding
key: compound-working-internals-compound
name: Compound - Internals
publishStatus: Live
showIncorrectOnCompletion: true
steps:
  - content: >+
      To achieve greater capital efficiency, including reduced gas costs,
      Compound III allows users to supply volatile crypto assets and borrow a
      single asset(often a stable coin). 


      This approach is in contrast to the current trend in DeFi where most
      borrowing involves supplying volatile crypto assets and borrowing a single
      borrowable base token. Compound III offers more value by providing
      fine-grained access controls for managing accounts, internalizing
      liquidation and profits, and optimizing for common usage with crypto
      collateral and borrows. 


      Interest is earned by users who have a positive balance of the base asset,
      and it's denominated in the base asset. The interest rate is determined by
      a supply rate model, which is set by governance. On the other hand, users
      with a negative balance of the base asset have to pay interest based on a
      borrow rate model, which is also set by governance. These are two separate
      interest rate models.


      The supply and borrow interest rates are determined by the utilization
      rate of the base asset. Each model has a utilization rate "kink" above
      which the interest rate increases more rapidly. Interest is calculated
      every second using the block timestamp. Collateral assets, however, do not
      earn or pay interest.

    name: Introduction
    stepItems: []
    uuid: 4bf5a6e0-7305-4fdc-aa05-e26ebd07ff90
  - content: >-
      The most significant configuration variables for Compound III that impact
      the lend and borrow rates are as follows:


      `utilization` - The formula for producing the utilization is: `Utilization
      = TotalBorrows / TotalSupply`


      `supplyKink` - This represents the point in the supply rates where the low
      interest rate slope meets the high interest rate slope, and is measured in
      factors.


      `borrowKink` - This represents the point in the borrow rate where the low
      interest rate slope meets the high interest rate slope, and is measured in
      factors.


      `supplyPerSecondInterestRateBase` - This is the base interest rate for
      supply per second, measured in factors.


      `supplyPerSecondInterestRateSlopeLow` - This is the interest rate slope
      for supply per second when the utilization is below the kink point,
      measured in factors.


      `supplyPerSecondInterestRateSlopeHigh` - This is the interest rate slope
      for supply per second when the utilization is above the kink point,
      measured in factors.


      `borrowPerSecondInterestRateSlopeLow` - This is the interest rate slope
      for borrow per second when the utilization is below the kink point,
      measured in factors.


      `borrowPerSecondInterestRateSlopeHigh` - This is the interest rate slope
      for borrow per second when the utilization is above the kink point,
      measured in factors.


      `borrowPerSecondInterestRateBase` - This is the base interest rate for
      borrow per second, measured in factors.
    name: Variables
    stepItems: []
    uuid: 942bd251-c524-4526-a23a-d7b4f87063e9
  - content: >-
      Following statements show how interest rates are calculated


      ### Supply Rate

      ##### when `utilization <= supplyKink`

      supply rate  =  interestRateBase + interestRateSlopeLow * utilization 


      ##### when `utilization > supplyKink`

      supply rate  =  interestRateBase + interestRateSlopeLow * kink +
      interestRateSlopeHigh * (utilization - kink)


      ### Borrow Rate

      ##### when `utilization <= borrowKink`

      borrow rate = interestRateBase + interestRateSlopeLow * utilization


      ##### when `utilization > borrowKink`

      borrow rate = interestRateBase + interestRateSlopeLow * kink +
      interestRateSlopeHigh * (utilization - kink)
    name: Calculations
    stepItems: []
    uuid: 6d22ede4-3bfa-4165-9b4f-da454a60ee3b
  - content: >
      ```

      Updated recs (Option 2):

      borrowKink = 900000000000000000

      borrowPerSecondInterestRateBase = 157680000

      borrowPerSecondInterestRateSlopeHigh = 19552320000

      borrowPerSecondInterestRateSlopeLow = 1639871893


      supplyKink = 900000000000000000

      supplyPerSecondInterestRateBase = 0

      supplyPerSecondInterestRateSlopeHigh = 9460800000

      supplyPerSecondInterestRateSlopeLow = 1356048000

      ```


      ![](https://d31h13bdjwgzxs.cloudfront.net/academy/compound-eth-1/Guide/compound-working-internals-compound/compund_3_eth_3.jpeg)
    name: Market Updates
    stepItems: []
    uuid: 00007ae1-2e33-43a0-ab40-b8d9bd635fa7
  - content: ''
    name: Your Info
    stepItems:
      - label: Nickname
        required: true
        type: PublicShortInput
        uuid: 53e90f0b-5b5e-42bb-8b82-efd0ed37bc96
    uuid: 78cc0350-523a-41ed-b002-26a267b5ae64
thumbnail: https://d31h13bdjwgzxs.cloudfront.net/academy/compound/how_compound_works.png
uuid: compound-working-internals-compound
